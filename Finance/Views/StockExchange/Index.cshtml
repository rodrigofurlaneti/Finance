@using X.PagedList.Mvc.Core;
@using X.PagedList;
@using Finance.Domain;
@model IPagedList<Active>

@if (Model != null)
{
    <h5 class="text-end" style="font-weight: 200;"><strong>Total de Ações @Model.TotalItemCount localizados</strong></h5>
}

<table class="table table-hover">
    <thead>
        <tr>
            <th scope="col" class="text-center">Imagem</th>
            <th scope="col" class="text-center">Código</th>
            <th scope="col" class="text-center">Nome</th>
            <th scope="col" class="text-center">Preço(R$)</th>
            <th scope="col" class="text-center">Mudança últ. dia(%)</th>
            <th scope="col" class="text-center">Variação últ. dia(R$)</th>
            <th scope="col" class="text-center">Yield últ. 12 meses(%)</th>
            <th scope="col" class="text-center">Yield últ. 12 meses(R$)</th>
            <th scope="col" class="text-center">Valor de mercado (em milhões)</th>
            <th scope="col" class="text-center">Site</th>
        </tr>
    </thead>
    <tbody>
        @if (Model != null)
        {
            foreach (var item in Model)
            {
                <tr>
                    <th scope="row"><img style="height:40px;" src="@item.Logo.Small" /></th>
                    <td>
                        <button type="button" class="btn" data-toggle="tooltip" data-placement="top" title="Código">
                            @item.Symbol
                        </button>
                    </td>
                    <td>
                        <button type="button" class="btn" data-toggle="tooltip" data-placement="top" title="@item.Document">
                            @item.CompanyName
                        </button>
                    </td>
                    <td>
                        <button type="button" class="btn" data-toggle="tooltip" data-placement="top" title="Preço">
                            R$@item.Price
                        </button>
                    </td>
                    <td>
                        <button type="button" class="btn" data-toggle="tooltip" data-placement="top" title="Mudança últ. dia(%)">
                            @item.ChangePercent%
                        </button>
                    </td>
                    <td>
                        <button type="button" class="btn" data-toggle="tooltip" data-placement="top" title="Variação últ. dia(R$)">
                            R$@item.ChangePrice
                        </button>
                    </td>
                    <td>
                        <button type="button" class="btn" data-toggle="tooltip" data-placement="top" title="Yield últ. 12 meses(%)">
                            @item.Financials.Dividends.Yield_12m%
                        </button>
                    </td>
                    <td>
                        <button type="button" class="btn" data-toggle="tooltip" data-placement="top" title="Yield últ. 12 meses(R$)">
                            R$@item.Financials.Dividends.Yield_12m_sum
                        </button>
                    </td>
                    <td>
                        <button type="button" class="btn" data-toggle="tooltip" data-placement="top" title="Valor de mercado (em milhões)">
                            R$@item.MarketCap
                        </button>
                    </td>
                    <td><a href="@item.Website">@item.Name</a></td>
                </tr>
            }
        }
        else
        {
            <h5>Falta banco de dados!</h5>
        }
    </tbody>
</table>

<div class="text-center">

    @Html.PagedListPager(Model, page => Url.Action("Index", new { page }), new PagedListRenderOptions
    {
        DisplayLinkToIndividualPages = true,
        DisplayPageCountAndCurrentLocation = false,
        MaximumPageNumbersToDisplay = 10,
        LiElementClasses = new string[] { "page-item" },
        PageClasses = new string[] { "page-link" },

    })

</div>